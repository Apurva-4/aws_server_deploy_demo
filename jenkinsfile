pipeline {
  agent {
    kubernetes {
      namespace{
        stages{
          stage('test'){
            steps {
            withKubeConfig([
              credentialsId: 'mykubeconfig',
              namespace: 'frontend',
              podName: 'httpd-deployment-859c98485f-rx6ml'
            ]) {
                 sh 'kubectl exec httpd-deployment-859c98485f-rx6ml -n frontend -- sh -c "echo 'Hello from the pod!'"'
            }
          }
        }
      }
    }
  }
}
}
